(()=>{"use strict";var e,t={342:(e,t,a)=>{const n=window.wp.hooks,o=window.wp.i18n,r=window.wp.data,c=window.wp.compose,l=window.wp.components,i=window.wp.blockEditor,s=window.wp.element;window.wp.apiFetch;const u=window.React,d=e=>"number"==typeof e&&!isNaN(e),m=e=>"string"==typeof e,p=e=>"function"==typeof e;function f(e){let{enter:t,exit:a,appendPosition:n=!1,collapse:o=!0,collapseDuration:r=300}=e;return function(e){let{children:c,position:l,preventExitTransition:i,done:s,nodeRef:d,isIn:m,playToast:p}=e;const f=n?`${t}--${l}`:t,_=n?`${a}--${l}`:a,v=(0,u.useRef)(0);return(0,u.useLayoutEffect)(()=>{const e=d.current,t=f.split(" "),a=n=>{n.target===d.current&&(p(),e.removeEventListener("animationend",a),e.removeEventListener("animationcancel",a),0===v.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",a),e.addEventListener("animationcancel",a)},[]),(0,u.useEffect)(()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,a){void 0===a&&(a=300);const{scrollHeight:n,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=n+"px",o.transition=`all ${a}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,a)})})}(e,s,r):s()};m||(i?t():(v.current=1,e.className+=` ${_}`,e.addEventListener("animationend",t)))},[m]),u.createElement(u.Fragment,null,c)}}const _=new Map;let v=[];const h=new Set,E=()=>_.size>0;function g(e,t){(e=>(0,u.isValidElement)(e)||m(e)||p(e)||d(e))(e)&&(E()||v.push({content:e,options:t}),_.forEach(a=>{a.buildToast(e,t)}))}function b(e,t){_.forEach(a=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===a.id&&a.toggle(e,null==t?void 0:t.id):a.toggle(e,null==t?void 0:t.id)})}let R=1;const y=()=>""+R++;function k(e){return e&&(m(e.toastId)||d(e.toastId))?e.toastId:y()}function C(e,t){return g(e,t),t.toastId}function S(e,t){return{...t,type:t&&t.type||e,toastId:k(t)}}function w(e){return(t,a)=>C(t,S(e,a))}function x(e,t){return C(e,S("default",t))}x.loading=(e,t)=>C(e,S("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),x.promise=function(e,t,a){let n,{pending:o,error:r,success:c}=t;o&&(n=m(o)?x.loading(o,a):x.loading(o.render,{...a,...o}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,o)=>{if(null==t)return void x.dismiss(n);const r={type:e,...l,...a,data:o},c=m(t)?{render:t}:t;return n?x.update(n,{...r,...c}):x(c.render,{...r,...c}),o},s=p(e)?e():e;return s.then(e=>i("success",c,e)).catch(e=>i("error",r,e)),s},x.success=w("success"),x.info=w("info"),x.error=w("error"),x.warning=w("warning"),x.warn=x.warning,x.dark=(e,t)=>C(e,S("default",{theme:"dark",...t})),x.dismiss=function(e){!function(e){var t;if(E()){if(null==e||m(t=e)||d(t))_.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const t=_.get(e.containerId);t?t.removeToast(e.id):_.forEach(t=>{t.removeToast(e.id)})}}else v=v.filter(t=>null!=e&&t.options.toastId!==e)}(e)},x.clearWaitingQueue=function(e){void 0===e&&(e={}),_.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},x.isActive=function(e,t){var a;if(t)return!(null==(a=_.get(t))||!a.isToastActive(e));let n=!1;return _.forEach(t=>{t.isToastActive(e)&&(n=!0)}),n},x.update=function(e,t){void 0===t&&(t={});const a=((e,t)=>{var a;let{containerId:n}=t;return null==(a=_.get(n||1))?void 0:a.toasts.get(e)})(e,t);if(a){const{props:n,content:o}=a,r={delay:100,...n,...t,toastId:t.toastId||e,updateId:y()};r.toastId!==e&&(r.staleId=e);const c=r.render||o;delete r.render,C(c,r)}},x.done=e=>{x.update(e,{progress:1})},x.onChange=function(e){return h.add(e),()=>{h.delete(e)}},x.play=e=>b(!0,e),x.pause=e=>b(!1,e),"undefined"!=typeof window?u.useLayoutEffect:u.useEffect;const T=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}};function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,c,l=[],i=!0,s=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=r.call(a)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}f(T("bounce",!0)),f(T("slide",!0)),f(T("zoom")),f(T("flip"));const N=function(e){var t=e.dataSource,a=e.setDataSource,n=e.sourceField,c=e.setSourceField,i=e.selectPost,u=e.setSelectPost,d=e.enableLink,m=e.setEnableLink,p=e.linkSource,f=e.setLinkSource,_=e.replaceContent,v=e.setReplaceContent,h=e.beforeText,E=e.setBeforeText,g=e.afterText,b=e.setAfterText,R=e.fallbackText,y=e.setFallbackText,k=e.charLength,C=e.setCharLength,S=(0,r.useSelect)(function(e){return e("core/block-editor").getSelectedBlockClientId()},[]),w=A((0,s.useState)([]),2),x=(w[0],w[1],A((0,s.useState)(!0),2)),T=(x[0],x[1],A((0,s.useState)(frontisBlocksAdmin.all_posts),2)),L=T[0],N=(T[1],(0,r.useDispatch)("core/block-editor").updateBlockAttributes),I=(0,r.useSelect)(function(e){var t=e("core/block-editor").getSelectedBlockClientId();return{selectedBlockId:t,selectedBlockAttributes:t?e("core/block-editor").getBlockAttributes(t):null}},[]),P=(I.testSelectedBlockId,I.selectedBlockAttributes);console.log(P);var F=A((0,s.useState)({}),2),B=F[0],O=F[1];(0,s.useEffect)(function(){O({dataSource:t,sourceField:n,selectPost:i,enableLink:d,linkSource:p,replaceContent:_,beforeText:h,afterText:g,fallbackText:R,charLength:k})},[]);var j=t!==B.item||n!==B.sourceField||i!==B.selectPost||d!==B.enableLink||p!==B.linkSource||_!==B.replaceContent||h!==B.beforeText||g!==B.afterText||R!==B.fallbackText||k!==B.charLength,M=((0,r.useSelect)(function(e){return(e("core").getPostTypes({per_page:-1})||[]).filter(function(e){return e.viewable&&!["attachment","nav_menu_item","wp_block"].includes(e.slug)})},[]),function(e){N(S,{headingText:e,dynamicAttrs:{dataSource:t,selectPost:i,sourceField:n}})});return console.log(L),React.createElement("div",{className:"frontis-dynamic-content-wrap",style:{padding:"10px"}},React.createElement("div",{className:"frontis-dynamic-content-fields"},React.createElement("div",{className:"frontis-dynamic-content-text-control"},React.createElement("label",{className:"frontis-dynamic-content-text-control__label",htmlFor:"data-source"},(0,o.__)("Data Source")),React.createElement(l.SelectControl,{id:"data-source",value:t,onChange:function(e){return a(e)},className:"frontis-dynamic-content-popover-posttype"},React.createElement("optgroup",{label:"Post"},React.createElement("option",{value:"current_post"},(0,o.__)("Current Post")),React.createElement("option",{value:"post_type"},(0,o.__)("Post Type"))),React.createElement("optgroup",{label:"Archive"},React.createElement("option",{value:"archive_description"},(0,o.__)("Archive Description")),React.createElement("option",{value:"archive_custom_field"},(0,o.__)("Archive Custom Field")),React.createElement("option",{value:"archive_title"},(0,o.__)("Archive Title"))),React.createElement("optgroup",{label:"Site"},React.createElement("option",{value:"site_tagline"},(0,o.__)("Site Tagline")),React.createElement("option",{value:"site_title"},(0,o.__)("Site Title")),React.createElement("option",{value:"request_parameter"},(0,o.__)("Request Parameter")),React.createElement("option",{value:"shortcode"},(0,o.__)("Shortcode")),React.createElement("option",{value:"user_custom_field - Current User"},(0,o.__)("User Custom Field - Current User"))))),"post_type"===t&&React.createElement(React.Fragment,null,React.createElement("div",{className:"frontis-dynamic-content-text-control"},React.createElement("label",{className:"frontis-dynamic-content-text-control__label",htmlFor:"select-post"},(0,o.__)("Select post")),React.createElement(l.SelectControl,{id:"select-post",value:i,onChange:function(e){return u(e)},className:"frontis-dynamic-content-popover-posttype"},React.createElement("option",{value:""},(0,o.__)("Select post")),Object.entries(L).map(function(e){var t=A(e,2),a=t[0],n=t[1];return React.createElement("optgroup",{key:a,label:a},n.map(function(e){return React.createElement("option",{key:e.ID,value:e.ID},e.title||(0,o.__)("No Title"))}))})))),React.createElement("div",{className:"frontis-dynamic-content-text-control"},React.createElement("label",{className:"frontis-dynamic-content-text-control__label",htmlFor:"source-field"},(0,o.__)("Source field")),React.createElement(l.SelectControl,{id:"source-field",value:n,onChange:function(e){return c(e)},className:"frontis-dynamic-content-popover-posttype"},React.createElement("option",{value:""},(0,o.__)("Select source field")),React.createElement("optgroup",{label:"Post"},React.createElement("option",{value:"post_title"},(0,o.__)("Post Title")),React.createElement("option",{value:"post_excerpt"},(0,o.__)("Post Excerpt")),React.createElement("option",{value:"featured_image"},(0,o.__)("Featured Image")),React.createElement("option",{value:"post_custom_field"},(0,o.__)("Post Custom Field")),React.createElement("option",{value:"post_date"},(0,o.__)("Post Date")),React.createElement("option",{value:"post_time"},(0,o.__)("Post Time")),React.createElement("option",{value:"post_terms"},(0,o.__)("Post Terms")),React.createElement("option",{value:"post_id"},(0,o.__)("Post ID")),React.createElement("option",{value:"comments_number"},(0,o.__)("Comments Number"))),React.createElement("optgroup",{label:"Author"},React.createElement("option",{value:"author_name"},(0,o.__)("Name")),React.createElement("option",{value:"author_first_name"},(0,o.__)("First Name")),React.createElement("option",{value:"author_last_name"},(0,o.__)("Last Name")),React.createElement("option",{value:"author_nickname"},(0,o.__)("Nickname")),React.createElement("option",{value:"author_bio"},(0,o.__)("Bio")),React.createElement("option",{value:"author_email"},(0,o.__)("Email")),React.createElement("option",{value:"author_website"},(0,o.__)("Website")),React.createElement("option",{value:"author_avatar_image_url"},(0,o.__)("Avatar Image URL")),React.createElement("option",{value:"author_custom_field"},(0,o.__)("Author Custom Field"))))),React.createElement("div",{className:"frontis-dynamic-content-text-control"},React.createElement("label",{className:"frontis-dynamic-content-text-control__label",htmlFor:"data-source"},(0,o.__)("Enable link")),React.createElement(l.ToggleControl,{checked:d,onChange:function(e){return m(e)},className:"frontis-dynamic-content-toggle"})),d&&React.createElement("div",{className:"frontis-dynamic-content-text-control"},React.createElement("label",{className:"frontis-dynamic-content-text-control__label",htmlFor:"link-source"},(0,o.__)("Link Source")),React.createElement(l.SelectControl,{id:"link-source",value:p,onChange:function(e){return f(e)},className:"frontis-dynamic-content-popover-posttype"},React.createElement("optgroup",{label:"Post"},React.createElement("option",{value:"post_permalink"},(0,o.__)("Post Permalink")),React.createElement("option",{value:"comments_area"},(0,o.__)("Comments Area")),React.createElement("option",{value:"featured_image"},(0,o.__)("Featured Image")),React.createElement("option",{value:"post_custom_field"},(0,o.__)("Post Custom Field"))),React.createElement("optgroup",{label:"Author"},React.createElement("option",{value:"avatar_profile_url)"},(0,o.__)("Avatar (Profile URL)")),React.createElement("option",{value:"author_custom_field"},(0,o.__)("Author Custom Field")),React.createElement("option",{value:"author_archive_url"},(0,o.__)("Author Archive URL")),React.createElement("option",{value:"author_page_url"},(0,o.__)("Author Page URL"))),React.createElement("option",{value:"custom_link"},(0,o.__)("Custom link")))),React.createElement("div",{className:"frontis-dynamic-content-text-control"},React.createElement("label",{className:"frontis-dynamic-content-text-control__label",htmlFor:"replace-full"},(0,o.__)("Replace Full Content")),React.createElement(l.ToggleControl,{checked:_,onChange:function(e){return v(e)},className:"frontis-dynamic-content-toggle"})),React.createElement(l.PanelBody,{className:"frontis-dynamic-content-advance",title:(0,o.__)("Advanced"),initialOpen:!1},React.createElement("div",{className:"components-base-control",style:{marginTop:"30px"}},React.createElement(l.TextControl,{label:(0,o.__)("Before"),value:h,onChange:function(e){return E(e)},className:""})),React.createElement("div",{className:"components-base-control"},React.createElement(l.TextControl,{label:(0,o.__)("After"),value:g,onChange:function(e){return b(e)},className:""})),React.createElement("div",{className:"components-base-control"},React.createElement(l.TextControl,{label:(0,o.__)("Fallback"),value:R,onChange:function(e){return y(e)},className:"",help:(0,o.__)("Show this text if no dynamic data is found.")})),React.createElement("div",{className:"components-base-control"},React.createElement(l.TextControl,{label:(0,o.__)("Character Length"),type:"number",value:k,onChange:function(e){return C(e)},className:""}))),j&&React.createElement("div",{className:"frontis-dynamic-content-apply-btn",style:{textAlign:"center",marginTop:"20px"}},React.createElement(l.Button,{variant:"primary",onClick:function(){return function(){if("post_type"===t&&i){var e=window.frontisBlocksAdmin.ajaxUrl;jQuery.ajax({url:e,type:"POST",data:{action:"fb_get_post",security:frontisBlocksAdmin.bolck_nonce,post_id:i,data_source:t,source_field:n},success:function(e){e.success&&e.data&&(e.data&&e.data.post_title&&M(e.data.post_title),e.data&&e.data.post_excerpt&&M(e.data.post_excerpt),e.data&&e.data.post_date&&M(e.data.post_date),e.data&&e.data.post_time&&M(e.data.post_time),e.data&&e.data.author_name&&M(e.data.author_name),e.data&&e.data.author_first_name&&M(e.data.author_first_name),e.data&&e.data.author_last_name&&M(e.data.author_last_name),e.data&&e.data.author_nickname&&M(e.data.author_nickname),e.data&&e.data.author_bio&&M(e.data.author_bio),e.data&&e.data.author_email&&M(e.data.author_email),e.data&&e.data.author_website&&M(e.data.author_website))},error:function(e,t,a){}})}}()}},(0,o.__)("Apply")))))};function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,c,l=[],i=!0,s=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=r.call(a)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}window.wp["editor/buildTypes/store/reducer"];var F=(0,c.createHigherOrderComponent)(function(e){return function(t){var a=I((0,s.useState)(!1),2),n=a[0],o=a[1],r=(0,s.useRef)(null),c=I((0,s.useState)("Current Post"),2),u=c[0],d=c[1],m=I((0,s.useState)(""),2),p=m[0],f=m[1],_=I((0,s.useState)(""),2),v=_[0],h=_[1],E=I((0,s.useState)(!1),2),g=E[0],b=E[1],R=I((0,s.useState)(""),2),y=R[0],k=R[1],C=I((0,s.useState)(!1),2),S=C[0],w=C[1],x=I((0,s.useState)(""),2),T=x[0],A=x[1],L=I((0,s.useState)(""),2),P=L[0],F=L[1],B=I((0,s.useState)(""),2),O=B[0],j=B[1],M=I((0,s.useState)(""),2),D=M[0],U=M[1];return React.createElement(React.Fragment,null,React.createElement(e,t),React.createElement("div",{className:"frontis-dynamic-content"},React.createElement(i.BlockControls,null,React.createElement(l.ToolbarButton,{className:"frontis-dynamic-content",icon:React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M10 7.99988C14.4183 7.99988 18 6.65673 18 4.99988C18 3.34302 14.4183 1.99988 10 1.99988C5.58172 1.99988 2 3.34302 2 4.99988C2 6.65673 5.58172 7.99988 10 7.99988Z",stroke:"#090909",strokeWidth:"1.5"}),React.createElement("path",{d:"M2 19C2 20.5299 5.05369 21.7923 9 21.9768",stroke:"#090909",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M5 10.8419C5.60158 11.0227 6.27434 11.1716 7 11.2818",stroke:"#090909",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M5 17.8419C5.60158 18.0227 6.27434 18.1716 7 18.2818",stroke:"#090909",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M18 4.99988V11.0081M2 4.99988V19.0191",stroke:"#090909",strokeWidth:"1.5","stroke-linecap":"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M2 11.9998C2 13.5416 5.05369 14.8138 9 14.9998",stroke:"#090909",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M12 15.5L13.001 16.8336C13.0514 16.9006 13.158 16.8798 13.1831 16.7998C13.6929 15.1771 15.209 14 17 14C18.4914 14 19.7922 14.8162 20.48 16.0264",stroke:"#090909",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M21.48 20.5L20.4789 19.1664C20.4286 19.0994 20.322 19.1202 20.2968 19.2002C19.7871 20.8229 18.271 22 16.48 22C14.9886 22 13.6878 21.1838 13 19.9736",stroke:"#090909",strokeWidth:"1.5",strokeLinecap:"round"})),onClick:function(){o(function(e){return!e})},ref:r}),n&&r.current&&React.createElement("div",null,React.createElement(l.Popover,{anchor:r.current},React.createElement("div",{style:{padding:"10px"},className:"frontis-dynamic-content-popover"},React.createElement(N,{dataSource:u,setDataSource:d,sourceField:p,setSourceField:f,selectPost:v,setSelectPost:h,enableLink:g,setEnableLink:b,linkSource:y,setLinkSource:k,replaceContent:S,setReplaceContent:w,beforeText:T,setBeforeText:A,afterText:P,setAfterText:F,fallbackText:O,setFallbackText:j,charLength:D,setCharLength:U})))))))}},"withGlobalToolbar");(0,n.addFilter)("editor.BlockEdit","frontis-blocks/global-toolbar",F)}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,a,o,r)=>{if(!a){var c=1/0;for(u=0;u<e.length;u++){for(var[a,o,r]=e[u],l=!0,i=0;i<a.length;i++)(!1&r||c>=r)&&Object.keys(n.O).every(e=>n.O[e](a[i]))?a.splice(i--,1):(l=!1,r<c&&(c=r));if(l){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,o,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={173:0,772:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,[c,l,i]=a,s=0;if(c.some(t=>0!==e[t])){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var u=i(n)}for(t&&t(a);s<c.length;s++)r=c[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=globalThis.webpackChunkfrontis_blocks=globalThis.webpackChunkfrontis_blocks||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=n.O(void 0,[772],()=>n(342));o=n.O(o)})();