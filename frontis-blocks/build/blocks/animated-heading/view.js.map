{"version":3,"file":"blocks/animated-heading/view.js","mappings":"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","sources":["webpack://frontis-blocks/./src/blocks/animated-heading/view.js"],"sourcesContent":["(function () {\n    function initAnimatedHeading() {\n        const containers = document.querySelectorAll('.fb-animated-heading-container');\n\n        containers.forEach((container) => {\n            const animationType = container.getAttribute('data-animation-type');\n\n            // Handle Typing Animation\n            if (animationType === 'typing') {\n                const typingContainer = container.querySelector('.fb-animated-headings');\n                if (!typingContainer) return;\n\n                const itemElements = container.querySelectorAll('.fb-animated-heading-item');\n                const items = Array.from(itemElements).map(el => el.textContent).filter(Boolean);\n\n                if (!items.length) return;\n\n                itemElements.forEach(el => el.style.display = 'none'); // hide original\n\n                let currentItem = 0, charIndex = 0, isDeleting = false;\n\n                function typeEffect() {\n                    const currentText = items[currentItem];\n                    const displayText = currentText.substring(0, charIndex);\n                    typingContainer.textContent = displayText;\n\n                    if (!isDeleting) {\n                        if (charIndex < currentText.length) {\n                            charIndex++;\n                            setTimeout(typeEffect, 100);\n                        } else {\n                            isDeleting = true;\n                            setTimeout(typeEffect, 1000);\n                        }\n                    } else {\n                        if (charIndex > 0) {\n                            charIndex--;\n                            setTimeout(typeEffect, 50);\n                        } else {\n                            isDeleting = false;\n                            currentItem = (currentItem + 1) % items.length;\n                            setTimeout(typeEffect, 500);\n                        }\n                    }\n                }\n\n                typeEffect();\n            }\n\n            // Handle Swirl Animation\n            if (animationType === 'swirl') {\n\n                const texts = Array.from(container.querySelectorAll('.fb-animated-heading-item'))\n                    .map(item => item.textContent).filter(Boolean);\n                \n                if (texts.length === 0) return;\n\n                let currentIndex = 0;\n                const containerWrapper = container.querySelector('#animated-heading-wrapper');\n\n                if (!containerWrapper) return;\n                containerWrapper.innerHTML = '';\n\n                function createWordSpan(text, isActive = false) {\n                    const wrapper = document.createElement('span');\n                    wrapper.className = 'fb-animated-heading-dynamic-text';\n                    if (isActive) wrapper.classList.add('fb-animated-heading-text-active');\n\n                    text.split('').forEach((char) => {\n                        const letter = document.createElement('span');\n                        letter.className = 'fb-animated-heading-dynamic-letter';\n                        letter.textContent = char === ' ' ? '\\u00A0' : char;\n                        wrapper.appendChild(letter);\n                    });\n\n                    return wrapper;\n                }\n\n                function showNextWord() {\n                    const oldWord = containerWrapper.querySelector('.fb-animated-heading-text-active');\n                    const newWord = createWordSpan(texts[currentIndex], true);\n                    containerWrapper.appendChild(newWord);\n\n                    const newLetters = newWord.querySelectorAll('.fb-animated-heading-dynamic-letter');\n\n                    const totalWidthSubPixel = Array.from(newLetters)\n                    .reduce((sum, letter) => sum + letter.getBoundingClientRect().width, 0);\n\n                    const swirlWrapper = document.querySelector('.fb-animated-heading-swirl-wrapper');\n\n                    if (swirlWrapper) {\n                        swirlWrapper.style.width = `${totalWidthSubPixel}px`;\n                    }\n\n                    newLetters.forEach((l, i) => {\n                        setTimeout(() => {\n                            l.classList.add('fb-animated-heading-animation-in');\n                        }, i * 30);\n                    });\n\n                    if (oldWord) {\n                        oldWord.classList.remove('fb-animated-heading-text-active');\n                        const oldLetters = oldWord.querySelectorAll('.fb-animated-heading-dynamic-letter');\n                        oldLetters.forEach((l, i) => {\n                            setTimeout(() => {\n                                l.classList.add('fb-animated-heading-animation-out');\n                            }, i * 30);\n                        });\n\n                        setTimeout(() => {\n                            oldWord.remove();\n                        }, oldLetters.length * 30 + 500);\n                    }\n\n                    currentIndex = (currentIndex + 1) % texts.length;\n                }\n\n                const firstWord = createWordSpan(texts[currentIndex], true);\n                containerWrapper.appendChild(firstWord);\n\n                const firstLetters = firstWord.querySelectorAll('.fb-animated-heading-dynamic-letter');\n                firstLetters.forEach((l, i) => {\n                    setTimeout(() => {\n                        l.classList.add('fb-animated-heading-animation-in');\n                    }, i * 30);\n                });\n\n                currentIndex = (currentIndex + 1) % texts.length;\n                setInterval(showNextWord, 3000);\n            }\n        });\n    }\n\n    function setupAnimatedHeading() {\n        // Init on load\n        window.addEventListener('load', initAnimatedHeading);\n\n        // Dynamic reload (in case of AJAX/Gutenberg preview)\n        const observer = new MutationObserver(() => {\n            initAnimatedHeading();\n        });\n\n        observer.observe(document.body, {\n            childList: true,\n            subtree: true\n        });\n    }\n\n    // Expose for external reload\n    window.reinitAnimatedHeading = initAnimatedHeading;\n\n    setupAnimatedHeading();\n})();\n"],"names":["initAnimatedHeading","containers","document","querySelectorAll","forEach","container","animationType","getAttribute","typeEffect","currentText","items","currentItem","displayText","substring","charIndex","typingContainer","textContent","isDeleting","length","setTimeout","querySelector","itemElements","Array","from","map","el","filter","Boolean","style","display","createWordSpan","text","isActive","arguments","undefined","wrapper","createElement","className","classList","add","split","char","letter","appendChild","showNextWord","oldWord","containerWrapper","newWord","texts","currentIndex","newLetters","totalWidthSubPixel","reduce","sum","getBoundingClientRect","width","swirlWrapper","concat","l","i","remove","oldLetters","item","innerHTML","firstWord","firstLetters","setInterval","setupAnimatedHeading","window","addEventListener","observer","MutationObserver","observe","body","childList","subtree","reinitAnimatedHeading"],"sourceRoot":""}