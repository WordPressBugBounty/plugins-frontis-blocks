{"version":3,"file":"blocks/accordion/view.js","mappings":"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","sources":["webpack://frontis-blocks/./src/blocks/accordion/view.js"],"sourcesContent":["(function() {\n  function initAccordion() {\n      const accordionItems = document.querySelectorAll(\".fb-accordion-item-wrapper\");\n      \n      accordionItems.forEach(itemWrapper => {\n          const titleWrapper = itemWrapper.querySelector(\".fb-accordion-item-title-wrapper\");\n          const contentWrapper = itemWrapper.querySelector(\".fb-accordion-content-wrapper\");\n\n          // Check current state\n          const isActive = titleWrapper.classList.contains(\"active\");\n\n          // Set max height\n          if (isActive) {\n            contentWrapper.style.maxHeight = `${contentWrapper.scrollHeight}px`;\n        } else {\n            contentWrapper.style.maxHeight = \"0px\";\n        }\n\n          // Prevent multiple initializations\n          if (titleWrapper.hasAttribute('data-accordion-initialized')) return;\n          titleWrapper.setAttribute('data-accordion-initialized', 'true');\n\n          titleWrapper.addEventListener(\"click\", function(event) {\n              event.stopPropagation();\n\n              // Reset all accordions at the same level\n              const parentAccordion = itemWrapper.closest(\".fb-accordion-content-wrapper\") || document.body;\n              const siblingItems = parentAccordion.querySelectorAll(\".fb-accordion-item-wrapper\");\n              \n              siblingItems.forEach(sibling => {\n                  if (sibling !== itemWrapper) {\n                      const siblingTitle = sibling.querySelector(\".fb-accordion-item-title-wrapper\");\n                      const siblingContent = sibling.querySelector(\".fb-accordion-content-wrapper\");\n                      \n                      if (siblingTitle) siblingTitle.classList.remove(\"active\");\n                      if (siblingContent) {\n                          siblingContent.classList.remove(\"active\");\n                          siblingContent.style.maxHeight = \"0px\";\n                      }\n                  }\n              });\n\n              // Toggle current accordion\n              titleWrapper.classList.toggle(\"active\", !isActive);\n              contentWrapper.classList.toggle(\"active\", !isActive);\n\n              // Set max height\n              if (!isActive) {\n                  contentWrapper.style.maxHeight = `${contentWrapper.scrollHeight}px`;\n              } else {\n                  contentWrapper.style.maxHeight = \"0px\";\n              }\n          });\n      });\n  }\n\n  // Initialize on different loading states\n  function setupAccordion() {\n      if (document.readyState === 'loading') {\n          document.addEventListener('DOMContentLoaded', initAccordion);\n      } else {\n          initAccordion();\n      }\n\n      // Handle dynamic content changes\n      const observer = new MutationObserver((mutations) => {\n          mutations.forEach((mutation) => {\n              if (mutation.addedNodes.length || mutation.removedNodes.length) {\n                  initAccordion();\n              }\n          });\n      });\n\n      observer.observe(document.body, {\n          childList: true,\n          subtree: true\n      });\n  }\n\n  // Expose initialization method globally\n  window.reinitAccordion = initAccordion;\n\n  // Start setup\n  setupAccordion();\n})();"],"names":["initAccordion","accordionItems","document","querySelectorAll","forEach","itemWrapper","titleWrapper","querySelector","contentWrapper","isActive","classList","contains","style","maxHeight","concat","scrollHeight","hasAttribute","setAttribute","addEventListener","event","stopPropagation","parentAccordion","closest","body","siblingItems","sibling","siblingTitle","siblingContent","remove","toggle","setupAccordion","readyState","observer","MutationObserver","mutations","mutation","addedNodes","length","removedNodes","observe","childList","subtree","window","reinitAccordion"],"sourceRoot":""}