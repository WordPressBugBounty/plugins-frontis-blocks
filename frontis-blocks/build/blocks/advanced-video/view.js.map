{"version":3,"file":"blocks/advanced-video/view.js","mappings":"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","sources":["webpack://frontis-blocks/./src/blocks/advanced-video/view.js"],"sourcesContent":["(function() {\n    function initVideoPlayer() {\n        var container = document.getElementById('fb-player-option');\n        var playIconSpan = document.querySelector('.fb-play-icon');\n\n        if (container) {\n            var url = container.getAttribute('data-url');\n            var autoPlay = container.getAttribute('data-autoplay') === 'true';\n            var muted = container.getAttribute('data-muted') === 'true';\n            var loop = container.getAttribute('data-loop') === 'true';\n            var controls = container.getAttribute('data-controls') === 'true';\n            var previewImage = container.getAttribute('data-preview-image');\n            var playIcon = container.getAttribute('data-play-icon');\n\n            renderReactPlayer(container, {\n                url: url,\n                playing: autoPlay,\n                muted: muted,\n                loop: loop,\n                controls: controls,\n                light: previewImage,\n                onClickPreview: function() {\n                    container.setAttribute('data-autoplay', 'true');\n                    if (playIconSpan) {\n                        playIconSpan.style.display = 'none';\n                    }\n                    renderReactPlayer(container, {\n                        url: url,\n                        playing: true,\n                        muted: muted,\n                        loop: loop,\n                        controls: controls,\n                        light: previewImage,\n                        width: '100%',\n                        height: '100%',\n                        className: 'fb-react-player'\n                    });\n                },\n                width: '100%',\n                height: '100%',\n                className: 'fb-react-player'\n            });\n\n            if (playIconSpan) {\n                playIconSpan.addEventListener('click', function() {\n                    var previewElement = container.querySelector('.react-player__preview');\n                    if (previewElement) {\n                        previewElement.click();\n                    }\n                });\n            }\n        }\n    }\n\n    var setupDone = false;\n\n    function setupInitialization() {\n        if (setupDone) return;\n        setupDone = true;\n\n        if (document.readyState === 'complete' || document.readyState === 'interactive') {\n            setTimeout(initVideoPlayer, 100);\n        } else {\n            document.addEventListener('DOMContentLoaded', function() {\n                setTimeout(initVideoPlayer, 100);\n            });\n        }\n\n        if (typeof window !== 'undefined') {\n            var lastUrl = window.location.href;\n            var urlObserver = new MutationObserver(function() {\n                if (lastUrl !== window.location.href) {\n                    lastUrl = window.location.href;\n                    setTimeout(initVideoPlayer, 300);\n                }\n            });\n\n            urlObserver.observe(document.body, { childList: true, subtree: true });\n        }\n    }\n\n    setupInitialization();\n\n    window.reinitVideoPlayer = initVideoPlayer;\n})();"],"names":["initVideoPlayer","container","document","getElementById","playIconSpan","querySelector","url","getAttribute","autoPlay","muted","loop","controls","previewImage","playIcon","renderReactPlayer","playing","light","onClickPreview","setAttribute","style","display","width","height","className","addEventListener","previewElement","click","setupDone","setupInitialization","readyState","setTimeout","window","lastUrl","location","href","urlObserver","MutationObserver","observe","body","childList","subtree","reinitVideoPlayer"],"sourceRoot":""}